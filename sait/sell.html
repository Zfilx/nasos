<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–ù–∞—Å–æ—Å–î–æ–º ‚Äî –û–±—Ä–∞—Ç–Ω—ã–π –∑–≤–æ–Ω–æ–∫</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: #f9fbfd;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
        }

        .container {
            background: #ffffff;
            border-radius: 12px;
            padding: 40px;
            max-width: 420px;
            width: 90%;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        h1 {
            color: #1846c7;
            margin-bottom: 16px;
        }

        p {
            color: #555;
            font-size: 16px;
            margin-bottom: 24px;
        }

        .input-group {
            margin-bottom: 20px;
            text-align: left;
        }

        label {
            font-size: 14px;
            color: #333;
            display: block;
            margin-bottom: 6px;
        }

        input, select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 8px;
            font-size: 14px;
        }

        button {
            background-color: #1e63f3;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            width: 100%;
            margin-top: 10px;
        }

            button:hover {
                background-color: #1846c7;
            }

        .confirmation {
            display: none;
            color: green;
            font-weight: bold;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>–ù–∞—Å–æ—Å–î–æ–º</h1>
        <p>–û—Å—Ç–∞–≤—å—Ç–µ —Å–≤–æ–π –∫–æ–Ω—Ç–∞–∫—Ç, –∏ –º—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏!</p>
        <div class="input-group">
            <label for="name">–ò–º—è</label>
            <input type="text" id="name" placeholder="–í–∞—à–µ –∏–º—è" />
        </div>
        <div class="input-group">
            <label for="city">–ì–æ—Ä–æ–¥</label>
            <select id="city">
                <option value="–ú–æ—Å–∫–≤–∞">–ú–æ—Å–∫–≤–∞</option>
                <option value="–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥">–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</option>
                <option value="–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫">–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫</option>
                <option value="–î—Ä—É–≥–æ–π">–î—Ä—É–≥–æ–π</option>
            </select>
        </div>
        <div class="input-group">
            <label for="phone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
            <input type="tel" id="phone" placeholder="+7 (___) ___-__-__" required />
        </div>
        <button onclick="submitForm()">–ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç</button>
        <div class="confirmation" id="confirmation">
            –°–ø–∞—Å–∏–±–æ! –ú—ã —Å–∫–æ—Ä–æ –≤–∞–º –ø–µ—Ä–µ–∑–≤–æ–Ω–∏–º.
        </div>
    </div>

    <script>
        function submitForm() {
            const name = document.getElementById('name').value.trim();
            const phone = document.getElementById('phone').value.trim();
            const city = document.getElementById('city').value;
            const phonePattern = /^\+7\s?\(?\d{3}\)?\s?\d{3}-?\d{2}-?\d{2}$/;

            if (!name || !phone) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è.');
                return;
            }

            if (!phonePattern.test(phone)) {
                alert('–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ +7 (XXX) XXX-XX-XX');
                return;
            }

            document.getElementById('confirmation').style.display = 'block';

            const product = sessionStorage.getItem('selectedProduct');
            const price = sessionStorage.getItem('selectedPrice');

            if (product && price) {
                sendToTelegram(product, price, name, phone, city);
            }
        }

        function sendToTelegram(productName, price, fullName, phoneNumber, city) {
            const token = '8014534507:AAEXQ-MGWgjMF2RIz-1Mt5rOYNbypnWyoVM';
            const chatId = '7990654547';
            const message = `üõí –ù–æ–≤—ã–π –∑–∞–∫–∞–∑:\n\nüì¶ –¢–æ–≤–∞—Ä: ${productName}\nüí∞ –¶–µ–Ω–∞: ${price}\nüèô –ì–æ—Ä–æ–¥: ${city}\nüë§ –ö–ª–∏–µ–Ω—Ç: ${fullName}\nüìû –¢–µ–ª–µ—Ñ–æ–Ω: ${phoneNumber}`;
            const url = `https://api.telegram.org/bot${token}/sendMessage`;

            fetch(url, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ chat_id: chatId, text: message })
            }).then(response => {
                if (!response.ok) {
                    console.error('–û—à–∏–±–∫–∞ Telegram:', response.statusText);
                }
            });
        }
    </script>

</body>
</html>
